<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Employee Manager</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <h1>Employee Manager</h1>

  <!-- Form เพิ่มพนักงาน -->
  <form action="{{ url_for('main.add_employee') }}" method="POST" class="form-add">
    <input type="text" name="first_name" placeholder="First Name" required>
    <input type="text" name="last_name" placeholder="Last Name" required>
    <input type="email" name="email" placeholder="Email" required>
    <input type="text" name="phone" placeholder="Phone" required>
    <input type="text" name="position" placeholder="Position" required>
    <button type="submit" class="btn-add">Add Employee</button>
  </form>

  <!-- ตารางแสดงพนักงาน -->
  <table>
    <thead>
      <tr>
        <th>ID</th><th>First Name</th><th>Last Name</th>
        <th>Email</th><th>Phone</th><th>Position</th>
        <th>Created At</th><th>Updated At</th><th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for emp in employees %}
      <tr>
        <form action="{{ url_for('main.edit_employee', employee_id=emp.employee_id) }}" method="POST">
          <td>{{ emp.employee_id }}</td>
          <td><input type="text" name="first_name" value="{{ emp.first_name }}"></td>
          <td><input type="text" name="last_name" value="{{ emp.last_name }}"></td>
          <td><input type="email" name="email" value="{{ emp.email }}"></td>
          <td><input type="text" name="phone" value="{{ emp.phone }}"></td>
          <td><input type="text" name="position" value="{{ emp.position }}"></td>
          <td>{{ emp.create_at }}</td>
          <td>{{ emp.updated_at }}</td>
          <td>
            <button type="submit" class="btn-edit">Save</button>
        </form>
        <form action="{{ url_for('main.delete_employee', employee_id=emp.employee_id) }}" method="POST" onsubmit="return confirm('Are you sure you want to delete this employee?');">
          <button type="submit" class="btn-delete">Delete</button>
        </form>
          </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</body>
</html>